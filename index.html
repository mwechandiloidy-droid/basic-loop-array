<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mini Ludo - Debug Version</title>
    <style>
        body { background: #222; color: white; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; font-family: sans-serif; }
        #game-container { background: #fff; color: #333; padding: 20px; border-radius: 8px; text-align: center; }
        
        /* The Board Layout */
        .board { 
            display: grid; 
            grid-template-columns: repeat(6, 60px); 
            grid-template-rows: repeat(3, 60px); 
            gap: 5px; 
            background: #444; 
            padding: 10px; 
            margin: 20px auto;
        }
        
        .cell { 
            width: 60px; height: 60px; background: #eee; 
            border: 1px solid #ccc; display: flex; 
            align-items: center; justify-content: center; 
            position: relative; font-weight: bold;
        }

        .piece { 
            width: 40px; height: 40px; border-radius: 50%; 
            position: absolute; border: 3px solid white; z-index: 10;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        #red-p { background: red; }
        #blue-p { background: blue; top: 5px; left: 5px; }
        
        button { padding: 10px 20px; cursor: pointer; font-size: 16px; background: #27ae60; color: white; border: none; border-radius: 5px; }
    </style>
</head>
<body>

<div id="game-container">
    <h2>Ludo Movement Test</h2>
    <p id="msg">Red's Turn. Roll the dice!</p>
    
    <div class="board" id="ludoBoard">
        </div>

    <button onclick="rollDice()">Roll Dice ðŸŽ²</button>
    <button onclick="document.documentElement.requestFullscreen()">Fullscreen â›¶</button>
</div>

<script>
    // Configuration
    const board = document.getElementById('ludoBoard');
    const msg = document.getElementById('msg');
    const totalCells = 18;
    let redPos = 0;
    let bluePos = 0;
    let turn = 'red';

    // 1. Create the Board Cells
    function createBoard() {
        for (let i = 0; i < totalCells; i++) {
            const cell = document.createElement('div');
            cell.className = 'cell';
            cell.id = 'c' + i;
            cell.innerText = i;
            board.appendChild(cell);
        }
        updatePieces();
    }

    // 2. Move Pieces on the DOM
    function updatePieces() {
        // Remove old pieces if they exist
        const r = document.getElementById('red-p') || document.createElement('div');
        r.id = 'red-p'; r.className = 'piece';
        
        const b = document.getElementById('blue-p') || document.createElement('div');
        b.id = 'blue-p'; b.className = 'piece';

        document.getElementById('c' + redPos).appendChild(r);
        document.getElementById('c' + bluePos).appendChild(b);
    }

    // 3. Dice Logic
    function rollDice() {
        const roll = Math.floor(Math.random() * 6) + 1;
        msg.innerText = (turn === 'red' ? "Red" : "Blue") + " rolled a " + roll;

        setTimeout(() => {
            if (turn === 'red') {
                redPos = Math.min(redPos + roll, totalCells - 1);
                turn = 'blue';
            } else {
                bluePos = Math.min(bluePos + roll, totalCells - 1);
                turn = 'red';
            }
            updatePieces();
            checkWin();
        }, 500);
    }

    function checkWin() {
        if (redPos === totalCells - 1) alert("Red Wins!");
        if (bluePos === totalCells - 1) alert("Blue Wins!");
    }

    // Ensure the board loads only when HTML is ready
    window.onload = createBoard;
</script>

</body>
</html>